# 2026-02-19

## Full Repo Audit & Cleanup

- **TOOLS.md trimmed** — was 250+ words of placeholder examples with no real content.
- **PROJECT_MAP.md updated** — reflects new 5-agent architecture, current milestones.
- **Stale files renamed .DELETE** — configuration-check.md, implementation.md
  (old optimization checklists no longer relevant). Delete manually:
  `rm ~/.openclaw/workspace/*.DELETE`
- **Duplicate memory dirs** — root-level `memory/` is identical to `workspace/memory/`.
  Delete manually: `rm -rf ~/.openclaw/memory/`
- **SKILL_old.md.bak** — still needs deletion: `rm ~/.openclaw/skills/smart-routing/SKILL_old.md.bak`

## Memory & Cost Config

- **memorySearch enabled** — Gemini embeddings (gemini-embedding-001), hybrid search
  (70% vector / 30% BM25), 30-day temporal decay. Free with existing Google auth.
- **memoryFlush model set** — openrouter/z-ai/glm-4.7-flash (~$0.07/M). Fires on
  compaction at 35k tokens, distills session to memory/YYYY-MM-DD.md.
- **Thinking disabled** on all non-coder models — prevents 10-50x token cost from
  reasoning chains on roles that don't need it. Coder models left with thinking enabled.

## Researcher Fixed

- Moved researcher primary off google-gemini-cli/gemini-2.5-flash (shared CLI pool)
  to google-antigravity/gemini-3-pro-high. CLI free pool now reserved for coordinator
  one-shot `gemini "..."` commands only.

## Quiet Hours

- HEARTBEAT.md updated — monitor does NOT notify between 23:00-08:00 CST.
  Background checks still run silently. Only breaks quiet hours for: system down,
  security breach, or data loss.

## Security Hardening

- **Prompt injection defense** added to AGENTS.md Safety section — loads every session.
  Covers attack pattern detection, never-reveal-keys rule, decode-before-act.
- **Email authorization whitelist** — communicator only acts on emails from
  yer.lys@gmail.com. All others flagged and reported. Defined in USER.md.
- **Logging redaction** — `"logging": { "redactSensitive": "tools" }` added to
  openclaw.json. Prevents API keys/tool output leaking to log files.
- **Filesystem hardening** (run on machine):
  `chmod 700 ~/.openclaw && chmod 600 ~/.openclaw/openclaw.json ~/.openclaw/.env`

## Production Status

Config is production-ready pending:
1. Fill in ~/.openclaw/.env with actual API keys
2. Run `openclaw doctor` to validate
3. Run `openclaw security audit --deep`
4. Delete cleanup files (see above)
5. Push to GitHub (credentials need SSH key or updated PAT)
